<html lang="ar" dir="rtl">
<head>
  <!-- أضف في head -->
<meta http-equiv="Content-Security-Policy" content="default-src 'self'">
  <!-- أضف في head -->
<meta name="description" content="موقع كلية الطب بمسيلة - موارد تعليمية لطلاب الطب من السنة الأولى إلى السابعة">
<meta name="keywords" content="طب, مسيلة, كلية, موارد, دروس, طلاب">
<meta property="og:title" content="FACULTY DE MEDECINE MSILA">
<meta property="og:description" content="الموقع الرسمي لكلية الطب بمسيلة">
<link rel="canonical" href="https://yourwebsite.com">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FACULTY DE MEDECINE MSILA</title>
    <style>
        /* تنسيقات عامة */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f9fafb;
            color: #333;
            transition: background-color 0.3s ease, color 0.3s ease;
            line-height: 1.6;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: auto;
        }

        /* الشريط العلوي */
        .site-header {
            background: linear-gradient(135deg, #4CAF50, #388E3C);
            color: white;
            padding: 1.5rem 0;
            text-align: center;
            position: relative;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .site-title {
            font-size: 2rem;
            font-weight: bold;
            letter-spacing: 1px;
            margin-bottom: 0.5rem;
        }

        .search-bar {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .search-input {
            padding: 0.7rem 1rem;
            border: none;
            border-radius: 20px;
            width: 250px;
            outline: none;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }

        .search-button {
            padding: 0.7rem 1.5rem;
            background: #fff;
            color: #4CAF50;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .search-button:hover {
            background: #4CAF50;
            color: #fff;
        }

        /* السنوات الدراسية */
        .years-section {
            margin: 2rem 0;
            text-align: center;
        }

        .years-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .year-btn {
            padding: 1rem;
            background: linear-gradient(135deg, #4CAF50, #388E3C);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .year-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.2);
        }

        /* الدروس الخاصة بالسنة المختارة */
        .courses-section {
            margin: 2rem 0;
            text-align: center;
        }

        .courses-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            align-items: center;
        }

        .courses-list li {
            background: #fff;
            padding: 0.7rem 1.5rem;
            border-radius: 10px;
            width: 100%;
            max-width: 400px;
            text-align: right;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            font-weight: bold;
        }

        .courses-list li:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.2);
        }

        /* زر تبديل الوضع */
        .theme-toggle {
            position: fixed;
            top: 1.5rem;
            right: 1.5rem;
            padding: 0.7rem 1.5rem;
            background: linear-gradient(135deg, #4CAF50, #388E3C);
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            z-index: 1000;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 10px rgba(0, 0, 0, 0.2);
        }

        /* الوضع الليلي */
        body.dark-mode {
            background-color: #121212;
            color: #e0e0e0;
        }

        body.dark-mode .site-header {
            background: linear-gradient(135deg, #1e1e1e, #333);
        }

        body.dark-mode .year-btn {
            background: linear-gradient(135deg, #333, #555);
        }

        body.dark-mode .courses-list li {
            background: #333;
            color: #e0e0e0;
        }

        body.dark-mode .theme-toggle {
            background: linear-gradient(135deg, #333, #555);
        }

        /* رسالة "لا يوجد محتوى بعد" */
        .no-content-message {
            text-align: center;
            margin-top: 1rem;
            font-size: 1.2rem;
            font-weight: bold;
            color: red;
        }

        /* تصميم نتائج البحث */
        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            max-height: 200px;
            overflow-y: auto;
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        .search-result-item {
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .search-result-item:hover {
            background-color: #f0f0f0;
        }

        /* الوضع النهاري */
        body:not(.dark-mode) .search-results {
            background-color: white;
            border-color: #ccc;
        }

        body:not(.dark-mode) .search-result-item {
            color: #333;
        }

        body:not(.dark-mode) .search-result-item:hover {
            background-color: #f0f0f0;
        }

        /* الوضع الليلي - نتائج البحث */
        body.dark-mode .search-results {
            background-color: #333;
            border-color: #555;
        }

        body.dark-mode .search-result-item {
            color: red !important;
        }

        body.dark-mode .search-result-item:hover {
            background-color: #555;
            color: #ff6666 !important;
        }

        /* الروابط الفرعية (sublinks) */
        .sublinks-list {
            list-style-type: none;
            padding: 0.5rem 1rem;
            margin-top: 0.2rem;
            background-color: #f1f1f1;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .sublinks-list li {
            margin-bottom: 0.3rem;
        }

        .sublinks-list a {
            color: #007BFF;
            text-decoration: none;
            font-weight: normal;
            font-size: 0.9rem;
            display: block;
        }

        .sublinks-list a:hover {
            text-decoration: underline;
        }

        /* الوضع الليلي - الروابط الفرعية */
        body.dark-mode .sublinks-list {
            background-color: #444;
        }

        body.dark-mode .sublinks-list a {
            color: red !important;
        }

        body.dark-mode .sublinks-list a:hover {
            color: #ff6666 !important;
            text-decoration: underline;
        }
        /* لون الروابط داخل نتائج البحث */
        .search-result-item a {
            color: #007BFF;
            text-decoration: none;
        }

        /* في الوضع الليلي، نجعل لون الروابط أحمر */
        body.dark-mode .search-result-item a {
            color: red !important;
        }
      /* إضافة في الـ CSS */
@media (max-width: 768px) {
  .years-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .site-title {
    font-size: 1.5rem;
  }
  
  .search-input {
    width: 100%;
  }
  
  .theme-toggle {
    top: 0.5rem;
    right: 0.5rem;
    padding: 0.5rem 1rem;
  }
}
        /* (اختياري) إضافة تأثير عند المرور */
        body.dark-mode .search-result-item a:hover {
            color: #ff6666 !important;
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <!-- الشريط العلوي -->
    <header class="site-header">
        <div class="container">
            <h1 class="site-title">FACULTY DE MEDECINE MSILA</h1>
            <div class="search-bar">
                <input type="text" placeholder="ابحث هنا..." class="search-input" id="search-input">
                <div id="search-results" class="search-results"></div>
            </div>
        </div>
    </header>

    <!-- السنوات الدراسية -->
    <section class="years-section">
        <div class="container">
            <h2>سنوات الطب</h2>
            <div class="years-grid">
                <button class="year-btn" data-year="1">السنة الأولى</button>
                <button class="year-btn" data-year="2">السنة الثانية</button>
                <button class="year-btn" data-year="3">السنة الثالثة</button>
                <button class="year-btn" data-year="4">السنة الرابعة</button>
                <button class="year-btn" data-year="5">السنة الخامسة</button>
                <button class="year-btn" data-year="6">السنة السادسة</button>
                <button class="year-btn" data-year="7">السنة السابعة</button>
            </div>
        </div>
    </section>

    <!-- محتوى الدروس الخاصة بالسنة المختارة -->
    <section class="courses-section" id="courses-section">
        <div class="container">
            <h2 id="selected-year-title">اختر سنة دراسية</h2>
            <ul id="courses-list" class="courses-list"></ul>
            <p id="no-content-message" class="no-content-message"></p>
        </div>
    </section>

    <!-- زر تبديل الوضع -->
    <button id="theme-toggle" class="theme-toggle">🌙 وضع ليلي</button>

    <script>
        // تبديل الوضع بين النهاري والليلي
        const themeToggle = document.getElementById('theme-toggle');
        const body = document.body;
        themeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            themeToggle.textContent = body.classList.contains('dark-mode')
                ? '☀️ وضع نهاري'
                : '🌙 وضع ليلي';
            // إعادة تفعيل البحث لتحديث الألوان
            const searchInput = document.getElementById('search-input');
            if (searchInput.value.trim()) {
                searchInput.dispatchEvent(new Event('input'));
            }
        });

        // بيانات الدروس
        const coursesData = {
            1: [
                {   
                    title: "Anatomie",
                    subLinks: [
                        {
                            title: "S01 anatomie",
                            url: "https://drive.google.com/drive/folders/1r0S71KRz98dfuXZwKRYsjik0vESoKRDm?usp=drive_link"
                        },
                        {
                            title: "S02 anatomie",
                            url: "https://drive.google.com/drive/folders/1__qqv213wgSSVoAqOUYDbUCwt60zZj_K?usp=drive_link"
                        }
                    ]
                },
                {
                    title: "Chimie",
                    subLinks: [
                        {
                            title: "S01 chimie",
                            url: "https://drive.google.com/drive/folders/1F_2dZ-X19hYq7KAeUwEA375H4XkDLtHy?usp=drive_link"
                        },
                        {
                            title: "S02 chimie",
                            url: "https://drive.google.com/drive/folders/1_avkkgO-ES5SaunDZ9086ip4AhyPZpuP?usp=drive_link"
                        }
                    ]
                },
                {
                    title: "cytologie",
                    subLinks: [
                        { 
                            title: "S01 cytologie",
                            url: "https://drive.google.com/file/d/1wyYmcuDRMGrSp2ifLj0Tygcdo5JxJZ7_/view?usp=drive_link"
                        },
                        {      
                            title: "S02 cytologie",
                            url: "https://drive.google.com/file/d/1f6F4SIaZskAECxDMVgz_HRNJSBJ3UAsG/view?usp=drive_link"
                        }  
                     ]    
                },
                {
                    title: "physiologie",
                    subLinks: [
                        { 
                            title: "Interaction Ligand- Récepteur physiologie",
                            url: "https://drive.google.com/file/d/1dMeOmgRSFLdFRy8RcATCBPE4ZseusBKR/view?usp=drive_link"
                        },
                        {
                            title: "Les transports membranaires physiologie",
                            url: "https://drive.google.com/file/d/1dYK58Gbi2spK97ky94zD-_Jmsc_oXfQ8/view?usp=drive_link"
                        },
                        {
                            title: "Milieu Intérieur physiologie",
                            url: "https://drive.google.com/file/d/1kYU2nGZlXzJiBYzfm-6h50q5VTqK7Jz1/view?usp=drive_link"
                        },
                        {
                            title: "Bioénergétique physiologie",
                            url: "https://docs.google.com/presentation/d/1XTdv2_aGRQ1768KnUlyj6kolpW6iqvyj/edit?usp=drive_link&ouid=106233026404999643178&rtpof=true&sd=true"
                        },
                        {
                            title: "Physiologie de la membrane plasmique ",
                            url: "https://drive.google.com/file/d/1_thP6_hgvvGQ_gayF6v7OuA16rTMFkME/view?usp=drive_link"
                        },
                        {
                            title: "Système Nerveux Autonome physiologie",
                            url: "https://docs.google.com/presentation/d/17-0msQ0idISNjAqwrn9d6nZzxKEe9a4Y/edit?usp=drive_link&ouid=106233026404999643178&rtpof=true&sd=true"
                        },
                        {
                            title: "Organisation du système nerveux et Transmission synaptique physiologie",
                            url: "https://drive.google.com/file/d/1jvqV9W7dt74HPmEQIGDhjdyJoULaapZe/view?usp=drive_link"
                        },
                        {
                            title: "Physiologie musculaire",
                            url: "https://drive.google.com/file/d/1prj5tiK4P0rXB1w3IMO9st4MfynJAW1G/view?usp=drivesdk"
                        },
                        {
                            title: "Ration alimentaire physiologie",
                            url: "https://drive.google.com/file/d/1N5r_vUPS9PvwFktQiBAHUO-ncV8E0ETo/view?usp=drivesdk"
                        }
                    ]
                },
                {
                    title: "Histologie",
                    subLinks: [
                        { 
                            title: "Les épithéliums histologie",
                            url: "https://drive.google.com/file/d/18rOfh9u-jAam4DmzNeLI79t6eUOP42-g/view?usp=drive_link"
                        },
                        {      
                            title: "Les tissus conjonctifs histologie",
                            url: "https://drive.google.com/file/d/15SuC496z0VhsktYVTgKS0KqGGnNhDYsq/view?usp=drive_link"
                        },
                        {
                            title: "Tissu Nerveux hstologie",
                            url: "https://docs.google.com/presentation/d/1Mns72Nlh6pwCMeSo5GCzjrsTl3Vt723S/edit?usp=drive_link&ouid=106233026404999643178&rtpof=true&sd=true"
                        }             
                    ]
                },
                {
                    title: "Biochimie",
                    subLinks: [
                        { 
                            title: "S01 biochimie",
                            url: "https://drive.google.com/drive/folders/1C4Y5CKvhk0e6JRieW6tpLdlM_UCepgnE?usp=drive_link"
                        },
                        {      
                            title: "S02 biochimie",
                            url: "https://drive.google.com/drive/folders/1_iemCqiWvlBICk4qmx7xun4avsu88-We?usp=drive_link"
                        }
                    ]
                },
                {
                    title: "Sciences Humaines et Sociales (SSH)",
                    subLinks: [
                        { 
                            title: "Juste S01 SSH",
                            url: "https://drive.google.com/drive/folders/1CSSN_5C27yTZjznP9w7g1yVEWtA4jLd1?usp=drive_link"            
                        } 
                    ]
                },
                {
                    title: "Embryologie",
                    subLinks: [
                        { 
                            title: "Juste S01 embryologie",
                            url: "https://drive.google.com/drive/folders/1CR7rYcjoJ_BWVZHST3RSoA5GhNSoOMFi?usp=drive_link"
                        }
                    ]
                },
                {
                    title: "Biophysique",
                    subLinks: [
                        { 
                            title: "S01 biophysique",
                            url: "https://drive.google.com/drive/folders/1CACmLUtv2k1SAW9BSnuuhQ0Vvqa3UUNl?usp=drive_link"
                        },
                        {
                            title: "S02 biophysique",
                            url: "https://drive.google.com/drive/folders/1_qRmAeoEG0IojG7Xe8X8DcLgx76NOkds?usp=drive_link"
                        }
                    ]   
                },
                {
                    title: "Biostatistiques",
                    subLinks: [
                        {    
                            title: "S01 Biostatistiques",
                            url: "https://drive.google.com/drive/folders/1C9X0D03QuRhBlOZ8nfswhHm5nw8mAMSj?usp=drive_link"
                        },
                        {
                            title: "S02 Biostatistiques",
                            url: "https://drive.google.com/drive/folders/1_q7eLd3-2OMKALRFhROGanTHVPNlCGNm?usp=drive_link"
                        }         
                     ] 
                },                  
            ],
            2: [
                {   
                    title: "Immunologie Fondamentale",
                    subLinks: [
                        {  
                            title: "Immunologie",   
                            url: "https://drive.google.com/drive/folders/10MeHUDYvCFMcpw5v1zlfLvTsMeU-7UPO?usp=drive_link"
                        } 
                    ]   
                },
                {
                    title: "Génétique",
                    subLinks: [
                        {  
                            title: "Génétique",   
                            url: "https://drive.google.com/drive/folders/1aT4v0RKhXwAGYd5WfhqUWC_aBoW4CbCO?usp=drive_link"                  
                        }
                    ]   
                },
                {
                    title: "Unite01 Appareil Cardio-Respiratoire",
                    subLinks: [
                        {  
                            title: "Cardio-Respiratoire",   
                            url: "https://drive.google.com/drive/folders/1MlIBzU7im04uuQxQ6E0zZGcIjpgwIbZd?usp=drive_link"                  
                        }              
                    ]   
                },
                {
                    title: "Unite02 Appareil Urinaire",
                    subLinks: [
                        {  
                            title: "Urinaire",   
                            url: "https://drive.google.com/drive/folders/1v62tdtZp9usmN6dpf5_q3Rncwsl5RiJo?usp=drive_link"                  
                        }      
                    ]   
                },
                {
                    title: "Unite03 Appareil Digestif",
                    subLinks: [
                        {  
                            title: "Digestif",   
                            url: "https://drive.google.com/drive/folders/1-_8Z1xel4pbo99LyOAdlyeAGYyY7zPBu?usp=drive_link"                  
                        }      
                    ]   
                },
                {
                    title: "Unite04 Appareil Endocrinien",
                    subLinks: [
                        {  
                            title: "Endocrinien",   
                            url: "https://drive.google.com/drive/folders/1aTX7AZKe_F3WVQFvxReo8kliuQIT_u6D?usp=drive_link"                  
                        }      
                    ]   
                },
                {
                    title: "Unite05 Appareil Nerveux",
                    subLinks: [
                        {  
                            title: "Nerveux",   
                            url: "https://drive.google.com/drive/folders/1mPRDSvwBI95KI3P8VksSIg05r-7IPxMc?usp=drive_link"                  
                        }             
                    ]   
                }
            ]
        };
// طلب الإذن للإشعارات
if ('Notification' in window) {
  Notification.requestPermission().then(permission => {
    if (permission === 'granted') {
      new Notification('شكراً لتفعيل الإشعارات!');
    }
  });
}
        // إظهار الدروس حسب السنة
        const yearButtons = document.querySelectorAll('.year-btn');
        const selectedYearTitle = document.getElementById('selected-year-title');
        const coursesList = document.getElementById('courses-list');
        const noContentMessage = document.getElementById('no-content-message');

        yearButtons.forEach(button => {
            button.addEventListener('click', () => {
                const year = button.dataset.year;
                selectedYearTitle.textContent = `Les cours de la ${year}ème année`;
                coursesList.innerHTML = '';
                noContentMessage.textContent = '';
                if (coursesData[year]) {
                    coursesData[year].forEach(course => {
                        const listItem = document.createElement('li');
                        if (typeof course === 'string') {
                            listItem.textContent = course;
                        } else {
                            listItem.textContent = course.title;
                            listItem.classList.add('has-sublinks');
                            const subList = document.createElement('ul');
                            subList.classList.add('sublinks-list');
                            subList.style.display = 'none';
                            course.subLinks.forEach(link => {
                                const subItem = document.createElement('li');
                                const linkElement = document.createElement('a');
                                linkElement.href = link.url;
                                linkElement.target = "_blank";
                                linkElement.textContent = link.title;
                                subItem.appendChild(linkElement);
                                subList.appendChild(subItem);
                            });
                            listItem.appendChild(subList);
                            listItem.addEventListener('click', (e) => {
                                e.stopPropagation();
                                const currentlyVisible = subList.style.display === 'block';
                                document.querySelectorAll('.sublinks-list').forEach(ul => ul.style.display = 'none');
                                subList.style.display = currentlyVisible ? 'none' : 'block';
                            });
                            document.addEventListener('click', () => {
                                subList.style.display = 'none';
                            });
                            subList.addEventListener('click', (e) => {
                                e.stopPropagation();
                            });
                        }
                        coursesList.appendChild(listItem);
                    });
                } else {
                    noContentMessage.textContent = 'لا يوجد محتوى بعد 😁👍';
                }
            });
        });

        // --- تعديل قسم البحث فقط ---
        const searchInput = document.getElementById('search-input');
        const searchResults = document.getElementById('search-results');

        // جمع العناصر التي تحتوي على روابط فقط
        const searchableItems = [];

        Object.values(coursesData).forEach(year => {
            year.forEach(course => {
                course.subLinks.forEach(subLink => {
                    if (subLink.url) {
                        searchableItems.push({
                            title: subLink.title,
                            url: subLink.url
                        });
                    }
                });
            });
        });

        searchInput.addEventListener('input', () => {
            const query = searchInput.value.trim().toLowerCase();
            searchResults.innerHTML = '';
            if (!query) return;

            const filtered = searchableItems.filter(item =>
                item.title.toLowerCase().includes(query)
            );

            if (filtered.length > 0) {
                filtered.forEach(item => {
                    const resultItem = document.createElement('div');
                    resultItem.classList.add('search-result-item');

                    // إنشاء رابط مباشر
                    const link = document.createElement('a');
                    link.href = item.url;
                    link.target = '_blank';
                    link.textContent = item.title;
                    link.style.display = 'block';

                    resultItem.appendChild(link);
                    searchResults.appendChild(resultItem);
                });
            } else {
                const noResult = document.createElement('div');
                noResult.textContent = 'لم يتم العثور على نتائج.';
                noResult.classList.add('search-result-item');
                searchResults.appendChild(noResult);
            }
        });

        document.addEventListener('click', e => {
            if (!searchInput.contains(e.target)) {
                searchResults.innerHTML = '';
            }
        });
    </script>
</body>
</html>
